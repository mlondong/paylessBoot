<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head lang="en">
<title>Payless</title>
<th:block th:include="layout/header"></th:block>
</head>

<body>

	<div id="div_search">
		<h2 style='font-weight: bold; background-color:#FFAE33'>Search Consumer</h2>
		<form action="/admin/consumer/search"  method="get">
			<div class="form-group">
			<table>
				<tbody>
					<tr>
						<td><label>By Firts Name:</label></td>
						<td><input type="text" id="firstName" name="firstName" /></td>
						<td><label>By Dni:</label></td>
						<td><input type="text" id="dni" name="dni" /></td>
						<td>
							<button type="submit" class="btn btn-primary">Search Consumer</button>
						</td>
					</tr>
				</tbody>
			</table>
			</div>
			</form>
	</div>

<p></p>

<div id="div_list" th:if="${not #lists.isEmpty(consumers)}" class="table table-striped">
		<table width="100%">
			<tr>
				<th>DNI</th>
				<th>First Name</th>
				<th>Last Name</th>
				<th>State</th>
				<th>Invoices</th>
				<th>Address</th>
				<th colspan="5"></th>
			</tr>
			<tr th:each="consumer : ${consumers}">
				<td th:text="${consumer.dni}"></td>
				<td align="center" th:text="${consumer.firstName}"></td>
				<td align="center" th:text="${consumer.lastName}"></td>
				<td align="center" th:if="${consumer.state==false}"  th:text="Inacive"></td>
				<td align="center" th:if="${consumer.state==true}" th:text="Active"></td>
				<td align="center" th:text="${consumer.invoices.size()}" width="10%"></td>
				<td  th:if="${consumer.address!=null}" th:text="${consumer.address.city.name +' / '+ consumer.address.zone.name+' - '+ consumer.address.description } "></td>
				<td  th:if="${consumer.address==null}"></td>
				
				
				
				<td>
				<a th:href="@{/admin/consumer/show_update?idconsumer={idconsumer}        (idconsumer=${consumer.id} )     }  ">
				<img src="/images/edit-ico.png" height="30px"	width="30px" alt="Update" title="Update Consumer"/>
				</a></td>
				
				<td>
				<a th:target="_blank" th:href="@{/admin/consumer/addaddress?idconsumer={idconsumer}        (idconsumer=${consumer.id})}">
				<img src="/images/addressbook-icon.png" height="25px" width="25px" alt="Address" title="Add Address"/>
				</a>
				</td>
					
				<td>
				<a th:href="@{/admin/consumer/delete?idconsumer={idconsumer}        (idconsumer=${consumer.id})}">
				<img src="/images/delete-xxl.png" height="25px" width="25px" alt="Delete" title="Delete Consumer"/>
				</a>
				</td>
				
				
				<td></td>
			</tr>
		</table>
</div>



</body>
</html>